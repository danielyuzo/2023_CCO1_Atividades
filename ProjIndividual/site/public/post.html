<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/cadastro.css">
    <title>Document</title>
</head>
<body>
    <div class="formCadastro">
        TÃ­tulo:
        <input id="inpTitulo">
        Post:
        <textarea rows="10" cols="100" id="inpTexto"></textarea>
        Categorias:
        <div id="divCategorias">
        </div>
        <button onclick="validarEntradas()">Cadastrar</button>
    </div>
</body>
</html>

<script>
    function obterCategorias() {
        fetch("/categoria/listar/").then((resposta) => {
            if (resposta.ok) {
                resposta.json().then(dados => {
                    divCategorias.innerHTML = '';
                    for (var i = 0; i < dados.length; i++) {
                        divCategorias.innerHTML += `<input type="checkbox" value="${dados[i].idCategoria}">${dados[i].nome}<br>`;
                    }
                });
            } else {
                console.log(resposta);
            }
        }).catch((erro) => {
            console.error(erro);
        });
    }

    obterCategorias();
</script>